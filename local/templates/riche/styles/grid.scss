@import "../base";
@import "../mixins";

:root {
  --offset:       0.8rem;

  @include Mobile {
    --offset: 1rem;
  }
  @include Desktop {
    --offset: 1.2rem;
  }

  --offset--half: calc(var(--offset) / 2);
  --offset--2x:   calc(var(--offset) * 2);
  --offset--4x:   calc(var(--offset) * 4);

  --offset--negative: calc(var(--offset) * -1);

}

.wrap {
  display:    block;
  box-sizing: border-box;

  margin:     var(--offset--2x) auto;
  padding:    0;

  .grid,
  .column,
  .row {

    display:        flex;
    flex-direction: column;

    > * {
      display:    block;
      box-sizing: border-box;
      padding:    var(--offset) 0;

      &:empty {
        display: none;
      }
    }

  }

  .row {
    margin: 0 calc(var(--offset) * -1);

    > * {
      padding: calc(var(--offset) * 0.5);
    }
  }

  @include Mobile {

    padding: 0;
    margin:  var(--offset);

    .row,
    .grid {
      flex-direction: row;
      flex-wrap:      wrap;
      box-sizing:     border-box;

      margin:         0 calc(var(--offset) * -0.5);

      > * {
        padding: calc(var(--offset) * 0.5);
      }

      $units:         (
                              "four-fifths": 80%,
                              "three-quarters": 75%,
                              "two-thirds": 66.6666%,
                              "three-fifths": 60%,
                              "half": 50%,
                              "two-fifths": 40%,
                              "third": 33.3333%,
                              "quarter": 25%,
                              "fifth": 20%,
                              "sixth": 16.6666%
                      );

      @each $code, $width in $units {

        > .#{$code} {
          width: #{$width};
        }

        .offset-#{$code} {
          margin-left: #{$width};
        }

      }

    }

  }

  @include Tablet {
    margin: var(--offset);
  }

  @include Desktop {
    width:  82%;
    margin: var(--offset) auto;
  }

  @include Wide {
    width:  72%;
    margin: var(--offset) auto;
  }

  .row {
    display:        flex;
    flex-direction: row;
    flex-wrap:      nowrap;

    margin:         0 var(--offset--negative);

    @include Tablet {
      margin:         0 var(--offset);
    }

    box-sizing:     border-box;
  }

  > * {
    padding: calc(var(--offset) * -0.5);
  }

}

[hidden],
.hidden {
  display: none;
}

.hide {
  display: none;

  &--on {

    @include Mobile {
      &-mobile {
        display: none !important;
      }
    }
    @include Desktop {
      &-desktop {
        display: none !important;
      }
    }

  }

}

.on {

  @include Mobile {
    &-desktop--only {
      display: none !important;
    }
  }
  @include Desktop {
    &-mobile--only {
      display: none !important;
    }
  }

}
